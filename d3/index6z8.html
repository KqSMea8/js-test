<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script>
    var body = d3.select('body'), duration = 3000;

    var div = body.append('div')
            .classed('box', true)
            .style('background-color','steelblue')
            .style('color', 'white')
            .text('waiting')
            .transition().duration(duration)
            .delay(1000)
            .each('start', function () {
                console.log(arguments);
                d3.select(this).text(function (d, i) {
                    return 'transitioning'
                })
            })
            .each('end', function () {
                d3.select(this).text(function (d, i) {
                    return 'end'
                })
            })
</script>
</html>